================================================================================
TEST GROUP: AES128 UNIDIRECTIONAL
================================================================================

AES128 Unidirectional 51B
--------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 7 mAh

CALCULATIONS:
  Q_avg (mAh)   = 7 / 3 = 2.33 mAh
  I_avg (mA)    = 2.33 mAh * 60 = 140 mA (0.14 A)
  Power (mW)    = 3.3V * 140mA = 462 mW
  Energy (J)    = 0.462W * 60s = 27.72 Joules
  DataFlow (B)  = (1,409,280 + 1,415,745 + 1,404,285) / 3 = 1,409,770 B

RESULTS:
  Throughput:   22.95 KB/s
  Energy Cost:  27,72 J / 1,409,770 B = 19.7 µJ/Byte

CONCLUSION:
  LoRaWAN is not so bad for TX but it is disgusting for RX.
  At 51B packet size it's always disgusting.

AES128 Unidirectional 242B
--------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 5 mAh

CALCULATIONS:
  Q_avg (mAh)   = 5 / 3 = 1.67 mAh
  I_avg (mA)    = 1.67 mAh * 60 = 100 mA (0.1 A)
  Power (mW)    = 3.3V * 100mA = 330 mW
  Energy (J)    = 0.33W * 60s = 19.8 Joules
  DataFlow (B)  = (9,394,836 + 10,483,546 + 10,870,414) / 3 = 10,249,599 B

RESULTS:
  Throughput:   170.8 KB/s
  Energy Cost:  19.8 J / 10,249,599 B = 1.93 µJ/Byte

CONCLUSION:
  LoRaWAN is not so bad for TX but it is disgusting for RX.

AES128 Unidirectional 1460B
---------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 6 mAh

CALCULATIONS:
  Q_avg (mAh)   = 6 / 3 = 2.0 mAh
  I_avg (mA)    = 2.0 mAh * 60 = 120 mA (0.12 A)
  Power (mW)    = 3.3V * 120mA = 396 mW
  Energy (J)    = 0.396W * 60s = 23.76 Joules
  DataFlow (B)  = (24,025,728 + 22,725,616 + 23,439,040) / 3 = 23,396,795 B

RESULTS:
  Throughput:   389.9 KB/s
  Energy Cost:  23.76 J / 23,396,795 B = 1.01 µJ/Byte

CONCLUSION:
  Good energy consumption for lower packet size. Lacks behind 4KB but much better 
  than LoRaWAN. Good sacrifice if you really want smaller packets without a 
  massive performance or energy consumption sacrifice.

AES128 Unidirectional 4096B
---------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 5 mAh

CALCULATIONS:
  Q_avg (mAh)   = 5 / 3 = 1.67 mAh
  I_avg (mA)    = 1.67 mAh * 60 = 100 mA (0.1 A)
  Power (mW)    = 3.3V * 100mA = 330 mW
  Energy (J)    = 0.33W * 60s = 19.8 Joules
  DataFlow (B)  = (27,279,140 + 27,291,320 + 25,789,120) / 3 = 26,786,527 B

RESULTS:
  Throughput:   446.4 KB/s
  Energy Cost:  19.8 J / 26,786,527 B = 0.74 µJ/Byte

CONCLUSION:
  Most energy efficient way of transmitting data tested. ESP32 handles this fine.
  There is no point in having a standard like LoRaWAN with 51B-242B in 2025.


================================================================================
TEST GROUP: AES128 BIDIRECTIONAL
================================================================================

AES128 Bidirectional 51B
------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 30 mAh

CALCULATIONS:
  Q_avg (mAh)   = 30 / 3 = 10 mAh
  I_avg (mA)    = 10 mAh * 60 = 600 mA (0.6 A)
  Power (mW)    = 3.3V * 600mA = 1,980 mW
  Energy (J)    = 1.98W * 60s = 118.8 Joules
  DataFlow (B)  = (27,480 + 29,100 + 26,640) / 3 = 27,740 B

RESULTS:
  Throughput:   0.46 KB/s
  Energy Cost:  118.8 J / 27,740 B = 4,282.6 µJ/Byte

CONCLUSION:
  Encryption is fast, but algorithm is WiFi radio TX heavy. Unsustainable current 
  draw (600mA) in real world; a timeout would be required to slow down current draw.

AES128 Bidirectional 242B
-------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 33 mAh

CALCULATIONS:
  Q_avg (mAh)   = 33 / 3 = 11 mAh
  I_avg (mA)    = 11 mAh * 60 = 660 mA (0.66 A)
  Power (mW)    = 3.3V * 660mA = 2,178 mW
  Energy (J)    = 2.178W * 60s = 130.68 Joules
  DataFlow (B)  = (355,144 + 384,396 + 438,368) / 3 = 392,636 B

RESULTS:
  Throughput:   6.5 KB/s
  Energy Cost:  130.68 J / 392,636 B = 332.8 µJ/Byte

CONCLUSION:
  Extremely high power consumption for the data volume.

AES128 Bidirectional 1460B
--------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 14 mAh

CALCULATIONS:
  Q_avg (mAh)   = 14 / 3 = 4.67 mAh
  I_avg (mA)    = 4.67 mAh * 60 = 280 mA (0.28 A)
  Power (mW)    = 3.3V * 280mA = 924 mW
  Energy (J)    = 0.924W * 60s = 55.44 Joules
  DataFlow (B)  = (8,284,832 + 8,407,296 + 10,047,744) / 3 = 8,913,290 B

RESULTS:
  Throughput:   148.5 KB/s
  Energy Cost:  55.44 J / 8,913,290 B = 6.22 µJ/Byte

CONCLUSION:
  With proper packet sizing, the same algorithm is much more efficient. Speaks 
  to the mediocrity of LoRaWAN outdated standard data sizes.

AES128 Bidirectional 4096B
--------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 24 mAh

CALCULATIONS:
  Q_avg (mAh)   = 24 / 3 = 8 mAh
  I_avg (mA)    = 8 mAh * 60 = 480 mA (0.48 A)
  Power (mW)    = 3.3V * 480mA = 1,584 mW
  Energy (J)    = 1.584W * 60s = 95.04 Joules
  DataFlow (B)  = (12,594,120 + 12,293,680 + 12,943,280) / 3 = 12,610,360 B

RESULTS:
  Throughput:   210.1 KB/s
  Energy Cost:  95.04 J / 12,610,360 B = 7.53 µJ/Byte

CONCLUSION:
  Even a rule of thumb of 4KB is better than LoRaWAN standard, but 1460B is 
  actually more efficient in this bidirectional test (6.22 vs 7.53 µJ/B).


================================================================================
TEST GROUP: AES256 UNIDIRECTIONAL
================================================================================

AES256 Unidirectional 51B
-------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 9 mAh

CALCULATIONS:
  Q_avg (mAh)   = 9 / 3 = 3 mAh
  I_avg (mA)    = 3 mAh * 60 = 180 mA (0.18 A)
  Power (mW)    = 3.3V * 180mA = 594 mW
  Energy (J)    = 0.594W * 60s = 35.64 Joules
  DataFlow (B)  = (1,462,335 + 1,515,960 + 1,485,690) / 3 = 1,487,995 B

RESULTS:
  Throughput:   24.8 KB/s
  Energy Cost:  35.64 J / 1,487,995 B = 23.95 µJ/Byte

CONCLUSION:
  Bad efficiency compared to larger packets.

AES256 Unidirectional 242B
--------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 9 mAh

CALCULATIONS:
  Q_avg (mAh)   = 9 / 3 = 3 mAh
  I_avg (mA)    = 3 mAh * 60 = 180 mA (0.18 A)
  Power (mW)    = 3.3V * 180mA = 594 mW
  Energy (J)    = 0.594W * 60s = 35.64 Joules
  DataFlow (B)  = (11,256,252 + 11,064,672 + 11,326,292) / 3 = 11,215,739 B

RESULTS:
  Throughput:   186.9 KB/s
  Energy Cost:  35.64 J / 11,215,739 B = 3.17 µJ/Byte

CONCLUSION:
  Little overhead from the extra encryption; roughly half the throughput cost 
  compared to AES128 (Unidirectional 242B was ~1.93 µJ/B).

AES256 Unidirectional 1460B
---------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 4 mAh

CALCULATIONS:
  Q_avg (mAh)   = 4 / 3 = 1.33 mAh
  I_avg (mA)    = 1.33 mAh * 60 = 80 mA (0.08 A)
  Power (mW)    = 3.3V * 80mA = 264 mW
  Energy (J)    = 0.264W * 60s = 15.84 Joules
  DataFlow (B)  = (19,555,792 + 20,287,728 + 21,972,320) / 3 = 20,605,280 B

RESULTS:
  Throughput:   343.4 KB/s
  Energy Cost:  15.84 J / 20,605,280 B = 0.77 µJ/Byte

CONCLUSION:
  Very efficient. Little overhead from extra encryption.

AES256 Unidirectional 4096B
---------------------------
INPUTS:
  Runs: 3 | Voltage: 3.3V | Duration: 60s
  Total Charge Measured: 6 mAh

CALCULATIONS:
  Q_avg (mAh)   = 6 / 3 = 2 mAh
  I_avg (mA)    = 2 mAh * 60 = 120 mA (0.12 A)
  Power (mW)    = 3.3V * 120mA = 396 mW
  Energy (J)    = 0.396W * 60s = 23.76 Joules
  DataFlow (B)  = (23,292,220 + 23,872,800 + 25,115,160) / 3 = 24,093,393 B

RESULTS:
  Throughput:   401.5 KB/s
  Energy Cost:  23.76 J / 24,093,393 B = 0.98 µJ/Byte

CONCLUSION:
  Highly efficient, slightly less so than 1460B in this specific test run.

================================================================================
